################################################
#Prefix(Ctrl+j)
#
#セッションの作成
#tmux new -s SESSION
#
#デタッチ
#Prefix + d
#
#新しいパネル作成
#Prefix + c
#
#セッションの選択
#Prefix :choose-session
#
#パネルの名前変更
#Prefix + ,
#
#コマンドの同時入力
#Prefix :set-window-option synchronize-panes on
#
#セッションの共有
#tmux -S /tmp/tmux.shared_sock
#chmod 777 /tmp/tmu.shared_sock
#他のユーザで
#tmux -S /tmp/tmux.shared_sock attach
#
# Macでのマウス選択はOptionキーを押しながら行う
# マウス選択コピーの切り替え
#Prefix + m
#Prefix + M
################################################

################################################
# Key Bind
################################################

#既定のPrefix(Ctrl+b)を解除
unbind-key C-b
set-option -g prefix C-j
bind-key C-j send-prefix
#viのキーバインドを使用する
set -g mode-keys vi
bind / list-keys -t vi-copy

#パネルのリスト(Ctrl+L,Ctrlを離さない)
unbind ^L
bind-key C-l choose-window

#パネルの分割と移動
bind s split-window -v
bind v split-window -h
bind j select-pane -D
bind k select-pane -U
bind h select-pane -L
bind l select-pane -R
#パネルのサイズ変更
bind J resize-pane -D 15
bind K resize-pane -U 15
bind H resize-pane -L 15
bind L resize-pane -R 15


################################################
# Util
################################################

set-window-option -g utf8 on

#設定ファイルのリロード
bind r source-file ~/.tmux.conf \; display-message "Reload Config!!"

# 256色端末を使用する
set-option -g default-terminal "screen-256color"

#バッファ上限数(default:9)
set-option -g buffer-limit 32

#後方スクロールの上限(defailt:2000)
set-option -g history-limit 4096

#パネルの初期値を0から1へ
#set-option -g base-index 1

# ウィンドウ名が実行中のコマンド名になるのを止める
setw -g automatic-rename off

# マウス操作切替
set-option -g mouse on
bind m \
    set -g mouse          on \; \
    display "Mouse: ON(Return prefix + M)"
bind M \
    set -g mouse          off \; \
    display "Mouse: OFF"

################################################
# Color
################################################
set-option -g default-terminal screen-256color
set -g terminal-overrides 'xterm:colors=256'

#ステータスバーの設定
set -g status-bg black
set -g status-fg white
 
# Left side of status bar
set -g status-left-length 20
set -g status-left '#[fg=green][#[bg=black,fg=cyan]Session:#S #[bg=black,fg=blue,dim]#h#[fg=green]]'
 
# Inactive windows in status bar
set-window-option -g window-status-format '#[fg=cyan,dim]#I#[fg=blue]:#[default]#W#[fg=grey,dim]#F'
 
# Current or active window in status bar
#set-window-option -g window-status-current-bg yellow
#set-window-option -g window-status-current-fg black
set-window-option -g window-status-current-format '#[bg=blue,fg=cyan,bold]#I#[bg=blue,fg=cyan]:#[fg=white]#W#[fg=dim]#F'
 
# Right side of status bar
set -g status-right '#[fg=green][#[fg=white]#T#[fg=green]][#[fg=blue]%Y-%m-%d #[fg=white]%H:%M#[default]#[fg=green]]'
